# 分布式

## 定义
> 分布式是由多个节点连通后组成的系统

## 多线程
> 多线程的开发中我们西药解决线程间的通信，需要对线程并发做控制，需要做好线程间的协调工作。

## 基于共享容器协同的多线程模式
> 多线程之间对共享的数据进行处理。例如经典的生产者和消费者模式。我们有一个队列用于生产和消费，这个队列就是
多个线程会共享的一个容器或者是数据对象，多个线程会并发的访问这个队列。

## 基于事件协同的多线程模式
线程间会存在着协调的需求，例如AB俩个线程。B线程需要等到某个状态的时间发生才能继续自己工作，而这个状态的改
变或者事件的产生和A线程有关系，就需要线程之间协同来完成。

## 多进程模式

一个进程之间的多个线程是共享进程的内存的，但是多个进程之间的内存空间是独立的。

## 心跳检查
在配置负载均衡的时候会对负载均衡对主从的设置， 主机提供服务，备机一直待命，备机会不断的与主机做心跳检查，确定主机是否
正常的工作，这中间会设置检查的间隔时间 在连续三次没联系上的情况下会认为主机工作异常从而接管工作，输了负载均衡之间会做心跳
检查，在负载均衡和服务器之间也会做，从而来判断服务器是否工作正常，从而更好的分配请求。这里的服务器指的时tomcat服务器。
即你的应用，负载均衡可以设置服务器应用的权重。负载均衡可以在正常工作的时候自动检查坏掉的服务器，自动添加到负载均衡的服务中。

## redis缓存
在分布式的时候用户登陆的session不会放在某一台服务器的本地中，而是存在缓存中，来提供共享。和生产一些特定的编号

## 分布式文件系统

## 分布式数据库



##企业的架构

```

用户 -- 负载均衡（主） | -- 服务器应用   |-- 数据库mysql
                      |                |-- 数据库mysql
                      |                |-- 数据库mysql
                      | 
                      |
                      |-- 服务器应用
                      | -- 服务器应用


        负载均衡（备）
```

## 高可用
比如负载均衡在有备机的情况下称为高可用（HA）   keepalive


## 负载均衡
硬件和软件
软件： LVS Nginx apache
LVS + keepalive   linux虚拟服务器 ： 
Nignx
Apache + jk ： 



