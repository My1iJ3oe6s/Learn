# MongoDB

目录
* [1.介绍](#介绍)
* [2.安装和配置](#安装和配置)
* [3.体系结构](#体系结构)


## 介绍

  MongoDB 是一个介于关系数据库和非关系数据库之间的产品，是非关系数据库当中功能最
丰富，最像关系数据库的。他支持的数据结构非常松散，是类似 json 的 bjson 格式，因
此可以存储比较复杂的数据类型。 MongoDB 最大的特点是他支持的查询语言非常强大，其语
法有点类似于面向对象的查询语言，几乎可以实现类似关系数据库单表查询的绝大部分功能，
而且还支持对数据建立索引。它是一个面向集合的,模式自由的文档型数据库。

#### 1、面向集合（Collenction-Orented）
  意思是数据被分组存储在数据集中， 被称为一个集合（ Collenction)。每个集合在数据库
中都有一个唯一的标识名，并且可以包含无限数目的文档。集合的概念类似关系型数据库中的表,
不同的是它不需要定义任何模式(schema)。

#### 2、模式自由（schema-free)
  意味着对于存储在 MongoDB 数据库中的文件，我们不需要知道它的任何结构定义。提了这
么多次"无模式"或"模式自由"，它到是个什么概念呢？例如，下面两个记录可以存在于同一
个集合里面：
{"welcome" : "Beijing"}
{"age" : 25}

#### 3、文档型
  意思是我们存储的数据是键-值对的集合,键是字符串,值可以是数据类型集合里的任意类型,
包括数组和文档. 我们把这个数据格式称作 “ BSON” 即 “ Binary Serialized dOcument
Notation.”

### 特点
- 面向集合存储，易于存储对象类型的数据
- 模式自由
- 支持动态查询
- 支持完全索引，包含内部对象
- 支持查询
- 支持复制和故障恢复
- 使用高效的二进制数据存储，包括大型对象（如视频等）
- 自动处理碎片，以支持云计算层次的扩展性
- 支持 Python， PHP， Ruby， Java， C， C#， Javascript， Perl 及 C++语言的驱动程序，社区
  中也提供了对 Erlang 及.NET 等平台的驱动程序
- 文件存储格式为 BSON（一种 JSON 的扩展）
- 可通过网络访问

### 功能
- 面向集合的存储：适合存储对象及 JSON 形式的数据
- 动态查询： MongoDB 支持丰富的查询表达式。查询指令使用 JSON 形式的标记，可轻易
  查询文档中内嵌的对象及数组
- 完整的索引支持：包括文档内嵌对象及数组。 MongoDB 的查询优化器会分析查询表达
  式，并生成一个高效的查询计划
- 查询监视： MongoDB 包含一系列监视工具用于分析数据库操作的性能
- 复制及自动故障转移： MongoDB 数据库支持服务器之间的数据复制，支持主-从模式及
  服务器之间的相互复制。复制的主要目标是提供冗余及自动故障转移
- 高效的传统存储方式：支持二进制数据及大型对象（如照片或图片）
- 自动分片以支持云级别的伸缩性：自动分片功能支持水平的数据库集群，可动态添加额外的机器


## 安装和配置

1. MongoDB安装很简单，无需下载源文件，可以直接用apt-get命令进行安装。 
```
sudo apt-get install mongodb

//通过获取压缩文件安装
curl -O http://fastdl.mongodb.org/linux/mongodb-linux-i686-1.8.1.tgz
```
2. 查看当前MongoDB的版本
```
mongo -version
```
3. 启动和关闭mongodb命令如下：
```
service mongodb start
service mongodb stop
```
4. 输入以下命令查看是否启动成功：
```
pgrep mongo -l   #注意：-l是英文字母l，不是阿拉伯数字1
```
5. 卸载MongoDB
```
sudo apt-get --purge remove mongodb mongodb-clients mongodb-server
```
6.shell命令模式
输入mongo进入shell命令模式，默认连接的数据库是test数据库，在此之前一定要确保你已经启动了MongoDB，
否则会出现错误： 
```
mongo
```
7. 常用操作命令：
```
数据库相关 
show dbs:显示数据库列表 
show collections：显示当前数据库中的集合（类似关系数据库中的表table） 
show users：显示所有用户 
use yourDB：切换当前数据库至yourDB 
db.help() ：显示数据库操作命令 
db.yourCollection.help() ：显示集合操作命令，yourCollection是集合名 
```


## 体系结构
  MongoDB 是一个可移植的数据库，它在流行的每一个平台上都可以使用，即所谓的跨平台
特性。在不同的操作系统上虽然略有差别，但是从整体构架上来看， MongoDB 在不同的平
台上是一样的，如数据逻辑结构和数据的存储等等。

  一个运行着的 MongoDB 数据库就可以看成是一个 <font color="#dd0000">MongoDB Server</font>，该 Server 由实例和数据
库组成，在一般的情况下一个 MongoDB Server 机器上包含一个实例和多个与之对应的数据
库，但是在特殊情况下，如硬件投入成本有限或特殊的应用需求，也允许一个 Server 机器
上可以有多个实例和多个数据库




